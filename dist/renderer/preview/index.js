module.exports=webpackJsonp([5],{0:function(e,t,a){a(590),e.exports=a(1839)},978:function(e,t){e.exports={primary:"rgb(68, 154, 211)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",sidebar:"_ðŸƒðŸ‡¨ðŸ‡«ðŸ–ðŸ¾ðŸ˜£ðŸ’°ðŸ¤˜ðŸ¼",timeline:"_ðŸ”™ðŸ‡µðŸ‡¼ðŸ“™ðŸ”—ðŸ‡µðŸ‡²ðŸ“†",header:"_ðŸ•ŒðŸŒ¼ðŸ‡«ðŸ‡´ðŸŽžðŸ‡¸ðŸ‡¨ðŸ•µðŸ½"}},1748:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatBytes=function(e,t){if(0==e)return"0 Byte";var a=1024,l=t+1||1,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,r)).toFixed(l))+" "+n[r]}},1839:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function l(n,r){try{var i=t[n](r),u=i.value}catch(e){return void a(e)}return i.done?void e(u):Promise.resolve(u).then(function(e){l("next",e)},function(e){l("throw",e)})}return l("next")})}}var r=function(){var e=n(regeneratorRuntime.mark(function e(){var t,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("sessionState");case 2:t=e.sent,a=(0,m.default)(t),l=(0,c.syncHistoryWithStore)(s.hashHistory,a),(0,g.default)(a),(0,d.render)(u.default.createElement(o.Provider,{store:a},u.default.createElement(s.Router,{history:l,routes:(0,v.default)(a)})),document.getElementById("root"));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();a(586);var i=a(1),u=l(i),d=a(27),o=a(5),s=a(29),c=a(55),f=a(589),m=l(f),p=a(1843),v=l(p),h=a(484),y=l(h),E=a(422),_=l(E),M=a(587),g=l(M),b=(0,y.default)(_.default);r()},1840:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.children;return i.default.createElement("div",{className:"layout-column flex"},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),i=l(r),u=a(316);l(u);n.propTypes={children:r.PropTypes.element.isRequired},t.default=n,e.exports=t.default},1841:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.files,l=t.location,n=l.query,r=n.localPath,i=n.revisionId,u=n.fileId,d=n.projectId;u=u||(a.pathToId[r]?a.pathToId[r].data:"");var o=r?u:u+"-"+i;return{localPath:r,fileId:u,revisionId:i,projectId:d,fileMeta:a.fileMeta[o]}}function i(e){return{filesActions:(0,u.bindActionCreators)(f,e),syncTimelineActions:(0,u.bindActionCreators)(p,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=a(6),d=a(5),o=a(1),s=n(o),c=a(581),f=l(c),m=a(588),p=l(m),v=a(26),h=n(v),y=a(1842),E=n(y),_=a(978),M=(n(_),t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){var a=e.localPath,l=e.fileId,n=e.fileMeta,r=e.revisionId,i=e.projectId;a?e.filesActions.getMetaFromPath({path:a}):n&&(n.data||n.loading)||e.filesActions.getMeta({projectId:i,fileId:l,revisionId:r})},componentWillMount:function(){this.onMount(this.props)},render:function(){var e=this.props.fileMeta;return s.default.createElement("div",{className:"layout-column flex"},e&&e.data&&e.data.data?s.default.createElement(E.default,{fileMeta:e.data.data}):null,s.default.createElement(h.default,{show:e&&e.loading}))}}));t.default=(0,d.connect)(r,i)(M)},1842:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.syncTimeline,l=e.files,n=t.fileMeta;return{syncTimeline:a[n.fileId],relatedTasks:l.relatedTasks[n.fileId]}}function i(e){return{syncTimelineActions:(0,u.bindActionCreators)(_,e),filesActions:(0,u.bindActionCreators)(y,e),dispatch:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var u=a(6),d=a(5),o=a(1),s=n(o),c=a(3),f=(n(c),a(9)),m=a(21),p=n(m),v=a(1748),h=a(581),y=l(h),E=a(588),_=l(E),M=a(47),g=l(M),b=a(124),x=l(b),I=a(579),j=n(I),T=a(325),N=n(T),w=a(258),P=n(w),S=a(918),C=n(S),k=a(580),B=n(k),O=a(26),A=(n(O),a(1863)),R=n(A),q=a(941),F=n(q),W=a(1864),z=n(W),H=a(1861),K=n(H),L=a(978),Y=n(L),D=t.Component=s.default.createClass({displayName:"Component",onMount:function(e,t){e.fileMeta.project&&e.fileMeta.project._id?e.syncTimelineActions.fetchTimeline({projectId:e.fileMeta.project._id,fileId:e.fileMeta.fileId}):e.syncTimelineActions.fetchTimeline({fileId:e.fileMeta.fileId}),e.filesActions.getRelatedTasks({fileId:e.fileMeta.fileId,projectId:e.fileMeta.project._id})},componentWillMount:function(){this.onMount(this.props)},getInitialState:function(){return{selected1:this.props.fileMeta,selected2:null,lastSelected:1,mode:"single"}},onSelect:function(e){"single"==this.state.mode?this.setState({selected1:e,lastSelected:1}):1==this.state.lastSelected?this.setState({selected2:e,lastSelected:2}):this.setState({selected1:e,lastSelected:1})},changeMode:function(e){this.setState({mode:e})},clickCrumb:function(e){var t=e.file;console.log(t)},isSelected:function(e){var t=!!(0,f.has)(this.state,"selected1.data.revisionId")&&e.data.revisionId==this.state.selected1.data.revisionId,a=!!(0,f.has)(this.state,"selected2.data.revisionId")&&e.data.revisionId==this.state.selected2.data.revisionId;return"single"==this.state.mode?t:t||a},clickTag:function(e){this.props.dispatch(g.showModal({modalType:"TASK",modalProps:{taskId:e._id}})),this.props.dispatch(x.show("main"))},render:function(){var e=this,t=this.props,a=t.fileMeta,l=t.syncTimeline,n=t.relatedTasks,r=this.state,i=r.mode,u=r.selected1,d=r.selected2,o=(a.project&&a.project._id,"single"==i?[u]:(0,f.orderBy)([u,d],function(e){return new Date(e.timestamp).getTime()})),c=o[0]?o[0].data:void 0,m=o[1]?o[1].data:void 0,h=l&&l.data?l.data.filter(function(e){return"revision"==e.event}):[];return s.default.createElement("div",{className:"layout-column flex"},s.default.createElement("div",{className:Y.default.header+" layout-row layout-align-start-center"},s.default.createElement("div",{className:"flex"},a?s.default.createElement(C.default,{meta:a,clickFn:this.clickCrumb}):""),s.default.createElement(B.default,{file1:c,file2:m,revisions:h,mode:i,changeMode:this.changeMode})),s.default.createElement("div",{className:"layout-row flex"},s.default.createElement("div",{className:"layout-column flex"},s.default.createElement(j.default,{project:a.project,file1:c,file2:m,mode:i}),s.default.createElement(N.default,{className:Y.default.timeline,items:h,onSelect:this.onSelect,isSelected:this.isSelected,preferPlace:"above"})),s.default.createElement(P.default,{side:"left",width:"450",widthRange:[0,450],className:"layout-column"},s.default.createElement("aside",{className:Y.default.sidebar+" layout-column flex",style:{minWidth:"400px",overflowY:"auto"}},s.default.createElement(z.default,{style:{marginBottom:"15px"}},"Meta"),s.default.createElement(F.default,null,s.default.createElement("tr",null,s.default.createElement("td",null,"Name"),s.default.createElement("td",null,a.name)),s.default.createElement("tr",null,s.default.createElement("td",null,"Projects"),s.default.createElement("td",null,a.project._id)),s.default.createElement("tr",null,s.default.createElement("td",null,"Size"),s.default.createElement("td",null,(0,v.formatBytes)(a.size))),s.default.createElement("tr",null,s.default.createElement("td",null,"Last modified"),s.default.createElement("td",null,(0,p.default)(a.modified).fromNow())),h.length>0?s.default.createElement("tr",null,s.default.createElement("td",null,"Revisions"),s.default.createElement("td",null,h.length)):null),n&&n.data&&n.data.length>0?s.default.createElement("div",null,s.default.createElement(z.default,{style:{margin:"30px 0 15px"}},"Related Tasks"),(0,f.orderBy)(n.data,["complete"]).map(function(t){return s.default.createElement(K.default,{key:t._id,text:t.name,onClick:function(){return e.clickTag(t)}})})):null,s.default.createElement(z.default,{style:{margin:"30px 0"}},"Timeline"),s.default.createElement("div",{className:"flex layout-column"},s.default.createElement(R.default,{items:l&&l.data?l.data:[]}))))))}});t.default=(0,d.connect)(r,i)(D)},1843:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(29),u=a(1840),d=l(u),o=a(1841),s=l(o);t.default=function(e){return r.default.createElement(i.Route,{component:d.default},r.default.createElement(i.Route,{path:"/",component:s.default}))},e.exports=t.default},1861:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(1),i=l(r),u=a(327),d=a(9),o=a(2126),s=l(o);t.default=i.default.createClass({displayName:"Tag",render:function(){var e=this.props.text;return i.default.createElement("a",n({className:s.default.tag},(0,d.omit)(this.props,["text"])),(0,u.middle)(e,30))}}),e.exports=t.default},1862:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(21),u=l(i),d=a(3),o=(l(d),a(976)),s=l(o),c=a(62),f=l(c),m=a(577),p=l(m),v=a(929),h=l(v),y=a(939),E=l(y),_={revision:function(e){return r.default.createElement("span",null,"modified this file.")},commit:function(e){return r.default.createElement("span",null,"added this file to commit: ",r.default.createElement(E.default,{path:"/project/"+e.data.project._id+"/feed",show:!0,query:{item:e._id},scope:"main",className:"link-primary"},e.data.summary))}},M=function(e){return _[e.event]?_[e.event](e):r.default.createElement("span",null,"Unknown Event Type")};t.default=r.default.createClass({displayName:"TimelineItem",render:function(){var e=this.props.item;return"comment"==e.event?r.default.createElement(p.default,{commentId:e.comment}):r.default.createElement(h.default,{style:{marginLeft:"5px"}},r.default.createElement("div",{className:"layout-row layout-align-start-center flex"},r.default.createElement("div",{className:s.default.avatar},r.default.createElement(f.default,{picture:e.user.picture,size:"25px",shape:"square"})),r.default.createElement("div",null,r.default.createElement("b",null,e.user.name,"Â "),r.default.createElement("span",{className:"text-grey-3",style:{lineHeight:"1.5em"}},M(e)," - ",(0,u.default)(e.timestamp).fromNow()))))}}),e.exports=t.default},1863:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(3),u=(l(i),a(1862)),d=l(u);t.default=r.default.createClass({displayName:"TimelineVertical",render:function(){var e=this.props.items;return r.default.createElement("div",null,e.map(function(e){return r.default.createElement(d.default,{key:e._id,item:e})}))}}),e.exports=t.default},1864:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=l(n),i=a(2127),u=l(i);t.default=r.default.createClass({displayName:"SectionTitle",render:function(){var e=this.props,t=e.children,a=e.style;return r.default.createElement("div",{className:u.default.section+" layout-row",style:a},r.default.createElement("div",{className:u.default.text},t))}}),e.exports=t.default},2126:function(e,t){e.exports={border2:"rgba(0, 0, 0, 0.3)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",tag:"_ðŸ‡¦ðŸ‡´ðŸ½ðŸ’»ðŸ˜¡ðŸ‡¹ðŸ‡¬ðŸš“"}},2127:function(e,t){e.exports={secondary:"rgba(0, 0, 0, 0.7)",border1:"rgba(0, 0, 0, 0.1)",bg1:"rgba(0, 0, 0, 0.03)",section:"_ðŸ‡®ðŸŽµðŸ™…ðŸ¿ðŸ³ðŸŽ¶ðŸŽ ",text:"_ðŸ˜ ðŸ†ðŸ™ŒðŸ¾ðŸ™„ðŸ‡¸ðŸ‡§ðŸ‹"}}});